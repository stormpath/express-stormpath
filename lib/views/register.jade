extends base

block vars
  - var title = 'Create an Account'
  - var description = 'Create a new account.'
  - var bodytag = 'register'
  - var urls = formModel.urls
  - var email_groups = formModel.email_groups

block body

  .container.custom-container
    .va-wrapper
      .view.registration-view.container
        .box.row
          .col-sm-12
            .header
              span Create Account

            if errors
              .alert.alert-danger
                each error in errors
                  p #{error.message}

            form.registration-form.form-horizontal.sp-form(method='post', role='form')
              each field in formModel.fields
                div(form-group='true', class='form-group group-#{field.name}')
                  label.col-sm-4 #{field.label}
                  .col-sm-8
                    - var value = form ? form[field.name] : '';
                    input.form-control(placeholder=field.placeholder, name=field.name, value=value, required=field.required, type=field.type, autocomplete='off')

              p.pwd-requirements Passwords must be #[b 8+] characters and include each of the following:
              ul.pwd-requirements
                li a digit (0-9)
                li an upper-case letter (A-Z)
                li a lower-case letter (a-z)

              p.email-lists
                span I would like to receive:
                each group in email_groups
                  unless group.is_fellowship
                    label #[input(type='checkbox', name='email_interests', checked='checked', value='#{group.id}')] &nbsp; #{group.name} (#{group.desc})
              div.faded Your contact information stays with Daycast, you can opt-out any time - #[a(target='_blank' href='#{urls.privacy}') Privacy Policy]

              p.email-lists
                each group in email_groups
                  if group.is_fellowship
                    label #[input(type='checkbox', name='email_interests', checked='checked', value='#{group.id}')] &nbsp; #{group.name} (#{group.desc})*
              div.faded * Membership in this group is limited and by invitation. Let us know you are interested, and we'll follow up with you.

              .form-group.group-tos

                div(class='col-sm-4')

                div(class='col-sm-8 .tos')
                  label #[input(type='checkbox', name='tos', id='tos', value='true')] &nbsp; I agree to the #[a(target='_blank' href='#{urls.tos}') Terms of Service]

              button.btn.btn-register.btn-sp-green(type='submit') Create Account

        a.to-login(href=stormpathConfig.web.login.uri) Back to Log In
